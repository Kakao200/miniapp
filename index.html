<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚ö°Ô∏è Mini-App Case</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="style.css?v=7">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <script src="script.js?v=14" defer></script>
</head>
<body>
    <div id="app-container">
        <section id="login-screen" class="screen">
            <div class="login-card">
                <h2>üîë –í—Ö–æ–¥ –≤ App</h2>
                <p>–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç –±–æ—Ç–∞:</p>
                <input type="text" id="code-input" placeholder="–ü—è—Ç–∏–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥" maxlength="5">
                <button onclick="login()" class="primary-btn"><i class="fas fa-sign-in-alt"></i> –í–æ–π—Ç–∏</button>
                <p id="login-msg" class="error-msg"></p>
            </div>
        </section>

        <section id="main-app" class="screen hidden">
            <header id="app-header">
                <div class="header-balance-info">
                    <i class="fas fa-star"></i>
                    <span id="header-balance">100.00</span>
                </div>
                <div class="mode-toggle">
                    <button id="mode-cases" class="mode-btn active" onclick="navigateToMode('home')">–ö–µ–π—Å—ã</button>
                    <button id="mode-rocket" class="mode-btn" onclick="navigateToMode('rocket')">–†–∞–∫–µ—Ç–∞</button>
                </div>
                <button onclick="logout()" class="icon-btn"><i class="fas fa-sign-out-alt"></i></button>
            </header>

            <main id="app-content">
                
                <div id="home-screen" class="content-view">
                    <div id="case-grid" class="case-grid">
                        <div class="case-card-item" data-case-id="daily" onclick="navigateTo('case')">
                            <img src="assets/case25.png" alt="–ö–µ–π—Å Daily Gift" class="case-img">
                            <div class="case-price">25 <i class="fas fa-star"></i></div>
                            <h4>Daily Gift Case</h4>
                        </div>
                    </div>
                    
                    <div class="promo-banner">
                        <p>‚≠êÔ∏è –ë–æ–ª—å—à–µ –∫–µ–π—Å–æ–≤ —Å–∫–æ—Ä–æ!</p>
                    </div>
                </div>

                <div id="rocket-screen" class="content-view hidden">
                    <div class="rocket-game-area">
                        <div id="graph-area" class="graph-area">
                            <svg id="rocket-graph-svg" class="rocket-graph-svg">
                                <polyline id="multiplier-line" fill="none" stroke="#2196F3" stroke-width="3" />
                            </svg>
                            <div id="rocket-multiplier" class="rocket-multiplier">x1.00</div>
                            <img id="rocket-image" src="assets/rocket.png" alt="–†–∞–∫–µ—Ç–∞" class="rocket-image hidden">
                            <div id="rocket-info" class="rocket-info">–ù–∞–∂–º–∏—Ç–µ "–°—Ç–∞–≤–∫–∞" –¥–ª—è –Ω–∞—á–∞–ª–∞</div>
                        </div>
                        
                        <div id="last-round-info" class="last-round-info">
                            <p>–ü–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç: <span id="last-multiplier">x1.00</span></p>
                        </div>

                        <div class="bet-controls">
                            <h3>–°–¥–µ–ª–∞–π—Ç–µ –≤–∞—à—É —Å—Ç–∞–≤–∫—É</h3>
                            <div class="bet-quick-select">
                                <button class="secondary-btn bet-amount-btn active" data-bet="5">5 ‚≠ê</button>
                                <button class="secondary-btn bet-amount-btn" data-bet="25">25 ‚≠ê</button>
                                <button class="secondary-btn bet-amount-btn" data-bet="100">100 ‚≠ê</button>
                            </div>

                            <input type="number" id="bet-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–≤–æ—é —Å—Ç–∞–≤–∫—É" value="5" min="5" max="1000">

                            <button id="rocket-action-btn" onclick="startRocketGame()" class="primary-btn open-btn big-btn">
                                <i class="fas fa-rocket"></i> –°–î–ï–õ–ê–¢–¨ –°–¢–ê–í–ö–£ (5.00 ‚≠ê)
                            </button>
                        </div>
                    </div>
                </div>

                <div id="case-screen" class="content-view hidden">
                    <div class="back-link" onclick="navigateTo('home')"><i class="fas fa-chevron-left"></i> –ù–∞–∑–∞–¥</div>

                    <h2>Daily Gift Case</h2>
                    
                    <div class="case-opening-area">
                        <div class="scroll-wrapper">
                            <div id="prize-scroll-reel" class="prize-reel"></div>
                            <div class="indicator"></div>
                        </div>
                    </div>

                    <div class="case-buttons">
                        <button id="demo-case-btn" onclick="openCase(true)" class="secondary-btn small-btn"><i class="fas fa-redo"></i> –î–ï–ú–û –†–ï–ñ–ò–ú</button>
                        
                        <button id="open-case-btn" onclick="openCase(false)" class="primary-btn open-btn big-btn"><i class="fas fa-key"></i> –û–¢–ö–†–´–¢–¨ (25 ‚≠ê)</button>
                    </div>

                    <div id="case-result-box" class="case-result-box hidden">
                        <h3>üéâ –í–∞—à –ø—Ä–∏–∑!</h3>
                        <div id="result-emoji" class="result-emoji-display"></div>
                        <p id="result-msg"></p>
                    </div>
                    
                    <div id="probabilities-box" class="probabilities-box">
                        <h3>–í–´ –ú–û–ñ–ï–¢–ï –í–´–ò–ì–†–ê–¢–¨:</h3>
                        <p>üêª –ú–∏—à–∫–∞ ‚Äî 30%</p>  
                        <p>‚ù§Ô∏è –°–µ—Ä–¥—Ü–µ ‚Äî 25%</p>   
                        <p>üåπ –†–æ–∑–∞ ‚Äî 20%</p>   
                        <p>üéÅ –ü–æ–¥–∞—Ä–æ–∫ ‚Äî 15%</p>  
                        <p>üç≠ –õ–µ–¥–µ–Ω–µ—Ü ‚Äî 5%</p>   
                        <p>üåº –¶–≤–µ—Ç–æ–∫ ‚Äî 5%</p>   
                    </div>
                </div>

                <div id="inventory-screen" class="content-view hidden">
                    <h2>üì¶ –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h2>
                    <div class="placeholder-card">
                        <p>–í–∞—à–∏ –≤—ã–∏–≥—Ä–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å.</p>
                    </div>
                </div>

                <div id="top-screen" class="content-view hidden">
                    <h2>üèÜ –¢–æ–ø –ò–≥—Ä–æ–∫–æ–≤</h2>
                    <div class="placeholder-card">
                        <p>–¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤ (–ø–æ –≤—ã–∏–≥—Ä—ã—à—É) —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞.</p>
                    </div>
                </div>

                <div id="profile-screen" class="content-view hidden">
                    <div class="back-link" onclick="navigateTo('home')"><i class="fas fa-chevron-left"></i> –ù–∞–∑–∞–¥</div>
                    <h2>üë§ –ú–æ–π –ü—Ä–æ—Ñ–∏–ª—å</h2>
                    <div class="profile-details-card">
                        <p><strong>–ò–º—è/–õ–æ–≥–∏–Ω:</strong> <span id="profile-username"></span></p>
                        <p><strong>ID –≤ Telegram:</strong> <span id="profile-id"></span></p>
                        <p><strong>–ë–∞–ª–∞–Ω—Å:</strong> <span id="profile-balance">0.00 <i class="fas fa-star"></i></span></p>
                    </div>

                    <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                    <div class="stats-card">
                        <p>–û—Ç–∫—Ä—ã—Ç–æ –∫–µ–π—Å–æ–≤: 0</p>
                        <p>–ü–æ–ª—É—á–µ–Ω–æ –ø—Ä–∏–∑–æ–≤: 0</p>
                    </div>

                    <button onclick="logout()" class="secondary-btn full-width-btn"><i class="fas fa-sign-out-alt"></i> –í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</button>
                </div>

            </main>
            
            <nav id="nav-bar">
                <button class="nav-item active" data-view="home"><i class="fas fa-home"></i> –ì–ª–∞–≤–Ω–∞—è</button>
                <button class="nav-item" data-view="inventory"><i class="fas fa-archive"></i> –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</button>
                <button class="nav-item" data-view="top"><i class="fas fa-trophy"></i> –¢–æ–ø</button>
                <button class="nav-item" data-view="profile"><i class="fas fa-user-circle"></i> –ü—Ä–æ—Ñ–∏–ª—å</button>
            </nav>
        </section>
    </div>
</body>
</html>

