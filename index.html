<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚ö°Ô∏è Mini-App Case</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <script src="script.js?v=10" defer></script>
</head>
<body>
    <div id="app-container">
        <section id="login-screen" class="screen">
            <div class="login-card">
                <h2>üîë –í—Ö–æ–¥ –≤ App</h2>
                <p>–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç –±–æ—Ç–∞:</p>
                <input type="text" id="code-input" placeholder="–ü—è—Ç–∏–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥" maxlength="5">
                <button onclick="login()" class="primary-btn"><i class="fas fa-sign-in-alt"></i> –í–æ–π—Ç–∏</button>
                <p id="login-msg" class="error-msg"></p>
            </div>
        </section>

        <section id="main-app" class="screen hidden">
            <header id="app-header">
                <div class="header-left">
                    <div class="balance-info">
                        <i class="fas fa-coins"></i>
                        <span id="header-balance">0.00</span>
                    </div>
                </div>
                <div class="header-right">
                    <button onclick="toggleTheme()" class="icon-btn theme-toggle-btn"><i class="fas fa-sun" id="theme-icon"></i></button>
                    <button id="back-button" onclick="navigateTo('home')" class="icon-btn hidden"><i class="fas fa-chevron-left"></i></button>
                </div>
            </header>

            <main id="app-content">
                
                <div id="home-screen" class="content-view">
                    <h2>üì¶ –ì–õ–ê–í–ù–ê–Ø / –ö–ï–ô–°–´</h2>
                    
                    <div class="case-card main-case-card" data-case-id="daily" onclick="navigateTo('case')">
                        <img src="assets/podarok.png" alt="–ö–µ–π—Å –ü–æ–¥–∞—Ä–æ–∫" class="case-img">
                        <div class="case-price">25 <i class="fas fa-star"></i></div>
                        <h3>Daily Gift Case</h3>
                        <p class="case-desc">–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –∫–µ–π—Å</p>
                    </div>

                    <div class="placeholder-card">
                        <p>–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –±—É–¥—É—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–µ–π—Å—ã.</p>
                        <p>–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É –≤—ã—à–µ, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –ø–µ—Ä–≤—ã–π –∫–µ–π—Å!</p>
                    </div>
                </div>

                <div id="inventory-screen" class="content-view hidden">
                    <h2>üì¶ –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h2>
                    <div id="inventory-grid" class="inventory-grid">
                        <p id="inventory-empty" class="placeholder-text">–í–∞—à –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç.</p>
                    </div>
                </div>

                <div id="top-screen" class="content-view hidden">
                    <h2>üèÜ –¢–æ–ø –ò–≥—Ä–æ–∫–æ–≤</h2>
                    <div class="placeholder-card">
                        <p>–°–ø–∏—Å–æ–∫ –¢–æ–ø –ò–≥—Ä–æ–∫–æ–≤ (–ø–æ –≤—ã–∏–≥—Ä—ã—à—É) —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω.</p>
                    </div>
                </div>

                <div id="profile-screen" class="content-view hidden">
                    <h2>üë§ –ú–æ–π –ü—Ä–æ—Ñ–∏–ª—å</h2>
                    <div class="profile-details-card">
                        <p><strong>–ò–º—è/–õ–æ–≥–∏–Ω:</strong> <span id="profile-username"></span></p>
                        <p><strong>ID –≤ Telegram:</strong> <span id="profile-id"></span></p>
                        <p><strong>–ë–∞–ª–∞–Ω—Å:</strong> <span id="profile-balance">0.00 <i class="fas fa-star"></i></span></p>
                    </div>

                    <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                    <div class="stats-card">
                        <p>–û—Ç–∫—Ä—ã—Ç–æ –∫–µ–π—Å–æ–≤: 0</p>
                        <p>–ü–æ–ª—É—á–µ–Ω–æ –ø—Ä–∏–∑–æ–≤: 0</p>
                    </div>

                    <button onclick="logout()" class="secondary-btn full-width-btn"><i class="fas fa-sign-out-alt"></i> –í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</button>
                </div>

                <div id="case-screen" class="content-view hidden">
                    <h2>Daily Gift Case</h2>
                    
                    <div class="case-opening-area">
                        <div class="scroll-wrapper">
                            <div id="prize-scroll-reel" class="prize-reel"></div>
                            <div class="indicator"></div>
                        </div>
                    </div>

                    <button id="open-case-btn-roll" onclick="startCaseRoll()" class="primary-btn open-btn big-btn"><i class="fas fa-key"></i> –ö–†–£–¢–ò–¢–¨ (25 <i class="fas fa-star"></i>)</button>
                    
                    <div class="demo-mode-toggle">
                        <span class="demo-label">–î–µ–º–æ —Ä–µ–∂–∏–º</span>
                        <label class="switch">
                            <input type="checkbox" id="demo-mode-switch">
                            <span class="slider round"></span>
                        </label>
                    </div>

                    <h3 class="prizes-header">–í–´ –ú–û–ñ–ï–¢–ï –í–´–ò–ì–†–ê–¢–¨</h3>
                    <div id="winnable-prizes-list">
                        </div>


                    <div id="case-result-box" class="case-result-box hidden">
                        <h3>üéâ –í–∞—à –ø—Ä–∏–∑!</h3>
                        <div id="result-emoji" class="result-emoji-display"></div>
                        <p id="result-msg"></p>
                        <button onclick="navigateTo('home')" class="primary-btn">–ù–∞ –ì–ª–∞–≤–Ω—É—é</button>
                    </div>
                </div>
            </main>
            
            <nav id="nav-bar">
                <button class="nav-item active" data-view="home"><i class="fas fa-box"></i> –ö–µ–π—Å—ã</button>
                <button class="nav-item" data-view="inventory"><i class="fas fa-archive"></i> –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</button>
                <button class="nav-item" data-view="top"><i class="fas fa-trophy"></i> –¢–æ–ø</button>
                <button class="nav-item" data-view="profile"><i class="fas fa-user-circle"></i> –ü—Ä–æ—Ñ–∏–ª—å</button>
            </nav>
        </section>
    </div>
</body>
</html>

